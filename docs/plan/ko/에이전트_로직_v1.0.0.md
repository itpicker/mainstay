# Mainstay 에이전트 로직: 자율 팀 협업
- **버전**: 1.0.0
- **작성 시간**: 2025-12-27 16:57

이 문서는 전문 에이전트들이 팀으로서 문제를 해결하기 위해 어떻게 사고하고 상호작용하는지 설명합니다.

## 1. 역할별 사고 방식
에이전트는 우선순위와 논리를 결정하는 "전문가 페르소나"로 초기화됩니다.
- **프로젝트 매니저 (PM)**: 작업 의존성, 진행 상황 추적 및 사용자 정렬에 중점을 둡니다.
- **개발자**: 코드 품질, 환경 설정 및 도구 구축에 중점을 둡니다.
- **리서처**: 웹/문서 발견 및 데이터 유효성에 중점을 둡니다.
- **지원 리드**: 사용자 상호작용 및 의도 구체화에 중점을 둡니다.

## 2. 협업 의사결정 루프
에이전트는 표준화된 인지 프로세스를 따릅니다.
1. **관찰**: 현재 `프로젝트 인텔리전스`(공유 상태)를 읽습니다.
2. **전문가 평가**: "[역할]로서 현재 목표의 어떤 부분을 해결할 수 있는가?"
3. **협업 확인**: "다른 전문가의 데이터가 필요한가? (예: 리서처) 또는 다른 전문가의 도구가 필요한가? (예: 개발자)"
4. **결정/위임**:
    - 도구를 사용하여 작업을 수행합니다.
    - 다른 전문가에게 요청을 게시합니다.
    - 역량이 부족한 경우 도구 설계자를 트리거합니다.
5. **비판/검토**: 전문가는 작업을 완료로 표시하기 전에 다른 사람의 관련 결과물을 검토합니다.

## 3. 자율적 프로세스 발견
고정된 순서 대신 팀은 "라이브 계획(Live Plan)"을 구축합니다.
- **초기 계획**: PM 에이전트가 높은 수준의 작업 목록을 초안으로 작성합니다.
- **실시간 정교화**: 전문가가 작업하면서 하위 작업이나 분기를 계획에 추가합니다.
- **동적 라우팅**: 전문가가 "작업 A"가 "작업 C" 없이는 불가능하다는 것을 발견하면 목표 DAG를 업데이트하고 PM 에이전트에게 알립니다.

## 4. Meta-Tooling 로직
에이전트가 "기술 격차"에 직면했을 때:
1. **정의**: 누락된 도구에 대한 인터페이스(입출력) 및 로직을 지정합니다.
2. **구현 요청**: 개발자 전문가 또는 `도구 설계자 루프`에 요청을 보냅니다.
3. **검증**: 구축되면 에이전트는 테스트 케이스를 실행합니다.
4. **통합**: 에이전트는 새로운 도구를 사용하여 작업을 성공적으로 완료합니다.
